{"version":3,"sources":["js/components/Die.jsx","js/components/Dice.jsx","js/components/RuleRow.jsx","js/Rules.js","js/components/ScoreTable.jsx","js/components/Game.jsx","js/App.js","registerServiceWorker.js","index.js"],"names":["Die","handleClick","e","props","idx","this","die","val","locked","isRolling","disable","className","onClick","disabled","Component","defaultProps","Dice","dice","map","d","key","RuleRow","doScore","name","description","score","undefined","Rule","params","Object","assign","reduce","prev","curr","freqs","Map","set","get","Array","from","values","filter","length","TotalOneNumber","evalRoll","count","SumDistro","freq","some","c","sum","FullHouse","arr","includes","SmallStraight","Set","size","has","LargeStraight","Yahtzee","ones","twos","threes","fours","fives","sixes","threeOfKind","fourOfKind","fullHouse","smallStraight","largeStraight","yahtzee","chance","ScoreTable","scores","cellSpacing","evt","Game","animateRoll","setState","st","setTimeout","roll","state","fill","rollsLeft","bind","toggleLocked","buttonValue","calcTotalScore","i","Math","ceil","random","slice","rulename","ruleFn","disableScores","button","total","forEach","every","x","App","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","error","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.a18f1208.chunk.js","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport '../../css/Die.css';\n\nclass Die extends Component {\n\tstatic defaultProps = {\n\t\tdie: [ 'one', 'two', 'three', 'four', 'five', 'six' ],\n\t\tval: 6\n\t};\n\n\thandleClick = e => {\n\t\tthis.props.handleClick(this.props.idx);\n\t};\n\n\trender() {\n\t\t// <button\n\t\t// \t// className={`Die `}\n\t\t// \t// style={{ backgroundColor: this.props.locked ? 'grey' : 'black' }}\n\t\t// \t// onClick={this.handleClick}\n\t\t// \t// disabled={this.props.isRolling}\n\t\t// >\n\t\tconst { die, val, locked, isRolling, disable } = this.props;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<i\n\t\t\t\t\tclassName={`Die fas fa-dice-${die[val - 1]} ${isRolling &&\n\t\t\t\t\t\t!locked &&\n\t\t\t\t\t\t'Die-rolling'} ${locked && 'Die-locked'} fa-5x`}\n\t\t\t\t\t// style={{\n\t\t\t\t\t// \tbackgroundColor: locked ? 'grey' : 'black'\n\t\t\t\t\t// }}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\tdisabled={disable}\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default Die;\n","import React, { Component } from 'react';\nimport Die from './Die';\nimport '../../css/Dice.css';\n\nclass Dice extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Dice\">\n\t\t\t\t{this.props.dice.map((d, idx) => (\n\t\t\t\t\t<Die\n\t\t\t\t\t\thandleClick={this.props.handleClick}\n\t\t\t\t\t\tval={d}\n\t\t\t\t\t\tlocked={this.props.locked[idx]}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\tisRolling={this.props.isRolling}\n\t\t\t\t\t\tdisable={this.props.disable}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Dice;\n","import React, { Component } from 'react';\nimport '../../css/RuleRow.css';\n\nclass RuleRow extends Component {\n\trender() {\n\t\tconst { isRolling, doScore, name, description, score } = this.props;\n\t\tconst disabled = score !== undefined;\n\t\treturn (\n\t\t\t<tr\n\t\t\t\tclassName={`RuleRow RuleRow-${disabled || isRolling\n\t\t\t\t\t? 'disabled'\n\t\t\t\t\t: 'active'}`}\n\t\t\t\tonClick={doScore}\n\t\t\t>\n\t\t\t\t<td className=\"RuleRow-name\">{name}</td>\n\t\t\t\t<td className=\"RuleRow-score\">{disabled ? score : description}</td>\n\t\t\t</tr>\n\t\t);\n\t}\n}\n\nexport default RuleRow;\n","/** Rule for Yahtzee scoring.\n *\n * This is an \"abstract class\"; the real rules are subclasses of these.\n * This stores all parameters passed into it as properties on the instance\n * (to simplify child classes so they don't need constructors of their own).\n *\n * It contains useful functions for summing, counting values, and counting\n * frequencies of dice. These are used by subclassed rules.\n */\n\nclass Rule {\n\tconstructor(params) {\n\t\t// put all properties in params on instance\n\t\tObject.assign(this, params);\n\t}\n\n\tsum(dice) {\n\t\t// sum of all dice\n\t\treturn dice.reduce((prev, curr) => prev + curr);\n\t}\n\n\tfreq(dice) {\n\t\t// frequencies of dice values\n\t\tconst freqs = new Map();\n\t\tfor (let d of dice) freqs.set(d, (freqs.get(d) || 0) + 1);\n\t\treturn Array.from(freqs.values());\n\t}\n\n\tcount(dice, val) {\n\t\t// # times val appears in dice\n\t\treturn dice.filter(d => d === val).length;\n\t}\n}\n\n/** Given a sought-for val, return sum of dice of that val.\n *\n * Used for rules like \"sum of all ones\"\n */\n\nclass TotalOneNumber extends Rule {\n\tevalRoll = dice => {\n\t\treturn this.val * this.count(dice, this.val);\n\t};\n}\n\n/** Given a required # of same dice, return sum of all dice.\n *\n * Used for rules like \"sum of all dice when there is a 3-of-kind\"\n */\n\nclass SumDistro extends Rule {\n\tevalRoll = dice => {\n\t\t// do any of the counts meet of exceed this distro?\n\t\treturn this.freq(dice).some(c => c >= this.count) ? this.sum(dice) : 0;\n\t};\n}\n\n/** Check if full house (3-of-kind and 2-of-kind) */\n\nclass FullHouse extends Rule {\n\tevalRoll = dice => {\n\t\t//check make sure freq arr is length of 2 then check first freq see if it has a value of 2 or 3\n\t\tconst arr = this.freq(dice);\n\t\treturn arr.includes(2) && arr.includes(3) ? this.score : 0;\n\t};\n}\n\n/** Check for small straights. */\n\nclass SmallStraight extends Rule {\n\tevalRoll = dice => {\n\t\tconst d = new Set(dice);\n\n\t\t// small straight must have 4 different dice & can have a combination of 1-4, 2-5, or 3-6\n\t\treturn d.size >= 4 &&\n\t\t((d.has(2) && d.has(3) && d.has(4) && (d.has(1) || d.has(5))) ||\n\t\t\t(d.has(3) && d.has(4) && d.has(5) && (d.has(2) || d.has(6))))\n\t\t\t? this.score\n\t\t\t: 0;\n\t};\n}\n\n/** Check for large straights. */\n\nclass LargeStraight extends Rule {\n\tevalRoll = dice => {\n\t\tconst d = new Set(dice);\n\n\t\t// large straight must be 5 different dice & only one can be a 1 or a 6\n\t\treturn d.size === 5 && (!d.has(1) || !d.has(6)) ? this.score : 0;\n\t};\n}\n\n/** Check if all dice are same. */\n\nclass Yahtzee extends Rule {\n\tevalRoll = dice => {\n\t\t// all dice must be the same\n\t\treturn this.freq(dice)[0] === 5 ? this.score : 0;\n\t};\n}\n\n// ones, twos, etc score as sum of that value\nconst ones = new TotalOneNumber({ val: 1, description: '1 point per 1' });\nconst twos = new TotalOneNumber({ val: 2, description: '2 points per 2' });\nconst threes = new TotalOneNumber({\n\tval: 3,\n\tdescription: '3 points per 3'\n});\nconst fours = new TotalOneNumber({\n\tval: 4,\n\tdescription: '4 points per 4'\n});\nconst fives = new TotalOneNumber({\n\tval: 5,\n\tdescription: '5 points per 5'\n});\nconst sixes = new TotalOneNumber({\n\tval: 6,\n\tdescription: '6 points per 6'\n});\n\n// three/four of kind score as sum of all dice\nconst threeOfKind = new SumDistro({\n\tcount: 3,\n\tdescription: 'Sum all dice if 3 are the same'\n});\nconst fourOfKind = new SumDistro({\n\tcount: 4,\n\tdescription: 'Sum all dice if 4 are the same'\n});\n\n// full house scores as flat 25\nconst fullHouse = new FullHouse({\n\tscore: 25,\n\tdescription: '25 points for a fullHouse'\n});\n\n// small/large straights score as 30/40\nconst smallStraight = new SmallStraight({\n\tscore: 30,\n\tdescription: '30 points for a Small Straight'\n});\nconst largeStraight = new LargeStraight({\n\tscore: 40,\n\tdescription: '40 points for a Large Straight'\n});\n\n// yahtzee scores as 50\nconst yahtzee = new Yahtzee({\n\tscore: 50,\n\tdescription: '50 points for yahtzee'\n});\n\n// for chance, can view as some of all dice, requiring at least 0 of a kind\nconst chance = new SumDistro({ count: 0, description: 'Sum of all dice' });\n\nexport {\n\tones,\n\ttwos,\n\tthrees,\n\tfours,\n\tfives,\n\tsixes,\n\tthreeOfKind,\n\tfourOfKind,\n\tfullHouse,\n\tsmallStraight,\n\tlargeStraight,\n\tyahtzee,\n\tchance\n};\n","import React, { Component } from 'react';\nimport RuleRow from './RuleRow';\nimport '../../css/ScoreTable.css';\nimport {\n\tones,\n\ttwos,\n\tthrees,\n\tfours,\n\tfives,\n\tsixes,\n\tthreeOfKind,\n\tfourOfKind,\n\tfullHouse,\n\tsmallStraight,\n\tlargeStraight,\n\tyahtzee,\n\tchance\n} from '../Rules';\n\nclass ScoreTable extends Component {\n\trender() {\n\t\tconst { scores, doScore, isRolling } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"ScoreTable\">\n\t\t\t\t<section className=\"ScoreTable-section\">\n\t\t\t\t\t<h2>Upper</h2>\n\t\t\t\t\t<table cellSpacing=\"0\">\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Ones\"\n\t\t\t\t\t\t\t\tscore={scores.ones}\n\t\t\t\t\t\t\t\tdoScore={evt => doScore('ones', ones.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={ones.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Twos\"\n\t\t\t\t\t\t\t\tscore={scores.twos}\n\t\t\t\t\t\t\t\tdoScore={evt => doScore('twos', twos.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={twos.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Threes\"\n\t\t\t\t\t\t\t\tscore={scores.threes}\n\t\t\t\t\t\t\t\tdoScore={evt => doScore('threes', threes.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={threes.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Fours\"\n\t\t\t\t\t\t\t\tscore={scores.fours}\n\t\t\t\t\t\t\t\tdoScore={evt => doScore('fours', fours.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={fours.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Fives\"\n\t\t\t\t\t\t\t\tscore={scores.fives}\n\t\t\t\t\t\t\t\tdoScore={evt => doScore('fives', fives.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={fives.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Sixes\"\n\t\t\t\t\t\t\t\tscore={scores.sixes}\n\t\t\t\t\t\t\t\tdoScore={evt => doScore('sixes', sixes.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={sixes.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</section>\n\t\t\t\t<section className=\"ScoreTable-section ScoreTable-section-lower\">\n\t\t\t\t\t<h2>Lower</h2>\n\t\t\t\t\t<table cellSpacing=\"0\">\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Three of Kind\"\n\t\t\t\t\t\t\t\tscore={scores.threeOfKind}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore('threeOfKind', threeOfKind.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={threeOfKind.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Four of Kind\"\n\t\t\t\t\t\t\t\tscore={scores.fourOfKind}\n\t\t\t\t\t\t\t\tdoScore={evt => doScore('fourOfKind', fourOfKind.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={fourOfKind.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Full House\"\n\t\t\t\t\t\t\t\tscore={scores.fullHouse}\n\t\t\t\t\t\t\t\tdoScore={evt => doScore('fullHouse', fullHouse.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={fullHouse.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Small Straight\"\n\t\t\t\t\t\t\t\tscore={scores.smallStraight}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore('smallStraight', smallStraight.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={smallStraight.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Large Straight\"\n\t\t\t\t\t\t\t\tscore={scores.largeStraight}\n\t\t\t\t\t\t\t\tdoScore={evt =>\n\t\t\t\t\t\t\t\t\tdoScore('largeStraight', largeStraight.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={largeStraight.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Yahtzee\"\n\t\t\t\t\t\t\t\tscore={scores.yahtzee}\n\t\t\t\t\t\t\t\tdoScore={evt => doScore('yahtzee', yahtzee.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={yahtzee.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RuleRow\n\t\t\t\t\t\t\t\tname=\"Chance\"\n\t\t\t\t\t\t\t\tscore={scores.chance}\n\t\t\t\t\t\t\t\tdoScore={evt => doScore('chance', chance.evalRoll)}\n\t\t\t\t\t\t\t\tdescription={chance.description}\n\t\t\t\t\t\t\t\tisRolling={isRolling}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ScoreTable;\n","import React, { Component } from 'react';\nimport Dice from './Dice';\nimport ScoreTable from './ScoreTable';\nimport '../../css/Game.css';\n\nconst NUM_DICE = 5;\nconst NUM_ROLLS = 3;\n\nclass Game extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdice: Array.from({ length: NUM_DICE }),\n\t\t\tlocked: Array(NUM_DICE).fill(false),\n\t\t\trollsLeft: NUM_ROLLS,\n\t\t\tscores: {\n\t\t\t\tones: undefined,\n\t\t\t\ttwos: undefined,\n\t\t\t\tthrees: undefined,\n\t\t\t\tfours: undefined,\n\t\t\t\tfives: undefined,\n\t\t\t\tsixes: undefined,\n\t\t\t\tthreeOfKind: undefined,\n\t\t\t\tfourOfKind: undefined,\n\t\t\t\tfullHouse: undefined,\n\t\t\t\tsmallStraight: undefined,\n\t\t\t\tlargeStraight: undefined,\n\t\t\t\tyahtzee: undefined,\n\t\t\t\tchance: undefined\n\t\t\t},\n\t\t\tisRolling: false\n\t\t};\n\n\t\tthis.roll = this.roll.bind(this);\n\t\tthis.doScore = this.doScore.bind(this);\n\t\tthis.toggleLocked = this.toggleLocked.bind(this);\n\t\tthis.buttonValue = this.buttonValue.bind(this);\n\t\tthis.calcTotalScore = this.calcTotalScore.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.animateRoll();\n\t}\n\n\tanimateRoll = () => {\n\t\tthis.setState(\n\t\t\tst => ({\n\t\t\t\tisRolling: true\n\t\t\t}),\n\t\t\t() => {\n\t\t\t\tsetTimeout(this.roll, 1000);\n\t\t\t}\n\t\t);\n\t};\n\n\troll(evt) {\n\t\t// delay to setState after 1 sec till animation finished\n\t\tthis.setState(st => ({\n\t\t\tdice: st.dice.map(\n\t\t\t\t(d, i) => (st.locked[i] ? d : Math.ceil(Math.random() * 6))\n\t\t\t),\n\t\t\tlocked: st.rollsLeft > 1 ? st.locked : Array(NUM_DICE).fill(true),\n\t\t\trollsLeft: st.rollsLeft - 1,\n\t\t\tisRolling: false\n\t\t}));\n\t}\n\n\ttoggleLocked(idx) {\n\t\t// toggle whether idx is in locked or not\n\t\tif (this.state.rollsLeft > 0 && !this.state.isRolling)\n\t\t\tthis.setState(st => ({\n\t\t\t\tlocked: [\n\t\t\t\t\t...st.locked.slice(0, idx),\n\t\t\t\t\t!st.locked[idx],\n\t\t\t\t\t...st.locked.slice(idx + 1)\n\t\t\t\t]\n\t\t\t}));\n\t}\n\n\tdoScore(rulename, ruleFn) {\n\t\t// evaluate this ruleFn with the dice and score this rulename\n\t\tif (\n\t\t\tthis.state.scores[rulename] === undefined &&\n\t\t\t!this.state.isRolling\n\t\t) {\n\t\t\tthis.setState(st => ({\n\t\t\t\tscores: { ...st.scores, [rulename]: ruleFn(this.state.dice) },\n\t\t\t\trollsLeft: NUM_ROLLS,\n\t\t\t\tlocked: Array(NUM_DICE).fill(false),\n\t\t\t\tdisableScores: { ...st.disableScores, [rulename]: true }\n\t\t\t}));\n\t\t\tthis.animateRoll();\n\t\t}\n\t}\n\n\tbuttonValue() {\n\t\tif (this.state.isRolling) return 'Rolling...';\n\t\tlet button = `${this.state.rollsLeft}`;\n\t\tif (this.state.rollsLeft > 1) return `${button} rolls left`;\n\t\tif (this.state.rollsLeft > 0) return `${button} roll left`;\n\t\treturn '0 rolls left';\n\t}\n\n\tcalcTotalScore() {\n\t\tconst scores = Object.values(this.state.scores);\n\t\tlet total = 0;\n\t\tscores.forEach(score => {\n\t\t\tif (score !== undefined) {\n\t\t\t\ttotal += score;\n\t\t\t}\n\t\t});\n\t\treturn total;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Game\">\n\t\t\t\t<header className=\"Game-header\">\n\t\t\t\t\t<h1 className=\"App-title\">Yahtzee!</h1>\n\n\t\t\t\t\t<section className=\"Game-dice-section\">\n\t\t\t\t\t\t<Dice\n\t\t\t\t\t\t\tdice={this.state.dice}\n\t\t\t\t\t\t\tlocked={this.state.locked}\n\t\t\t\t\t\t\thandleClick={this.toggleLocked}\n\t\t\t\t\t\t\tisRolling={this.state.isRolling}\n\t\t\t\t\t\t\tdisable={this.state.rollsLeft === 0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"Game-button-wrapper\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"Game-reroll\"\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tthis.state.locked.every(x => x) || this.state.isRolling\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClick={this.animateRoll}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.buttonValue()}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</header>\n\t\t\t\t<ScoreTable\n\t\t\t\t\tdoScore={this.doScore}\n\t\t\t\t\tscores={this.state.scores}\n\t\t\t\t\tisRolling={this.state.isRolling}\n\t\t\t\t/>\n\t\t\t\t<h2 className=\"Game-score\">\n\t\t\t\t\tTotal Score: {this.calcTotalScore()}\n\t\t\t\t</h2>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Game;\n","import React, { Component } from 'react';\nimport Game from './components/Game';\nimport '../css/App.css';\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Game />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './js/App';\nimport registerServiceWorker from './registerServiceWorker';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}